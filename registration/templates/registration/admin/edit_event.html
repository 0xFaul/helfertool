{% extends "registration/admin/base.html" %}
{% load i18n %}
{% load bootstrap3 %}

{% block admincontent %}
    {% if event %}
        <h2>{% trans "Edit event" %}</h2>

        <form action="{% url 'edit_event' event.url_name %}" method="post">
    {% else %}
        <h2>{% trans "New event" %}</h2>

        <form action="{% url 'new_event' %}" method="post">
    {% endif %}
        {% csrf_token %}

        {% bootstrap_form form %}

        <input type="submit" value="{% trans "Save" %}" class="btn btn-default" />
        <input type="reset" value="{% trans "Reset" %}" class="btn btn-danger" />
    </form>

    <script type="text/javascript">
        $(function () {
            // activate DualListbox
            $('.duallistbox').bootstrapDualListbox({
                moveOnSelect: false,
                nonSelectedListLabel: "{% trans "Non-selected" %}",
                selectedListLabel: "{% trans "Selected" %}",
                filterTextClear: "{% trans "Show all" %}",
                filterPlaceHolder: "{% trans "Filter" %}",
                moveSelectedLabel: "{% trans "Move selected" %}",
                moveAllLabel: "{% trans "Move all" %}",
                removeSelectedLabel: "{% trans "Remove selected" %}",
                removeAllLabel: "{% trans "Remove all" %}",
                infoText: "{% trans "Showing all {0}" %}",
                infoTextFiltered: '<span class="label label-warning">{% trans "Filtered {0} from {1}" %}</span>',
                infoTextEmpty: "{% trans "Empty list" %}",
            });

            // remove required option, since it is handled wrong by firefox
            $('.duallistbox').removeAttr('required');
        });
    </script>
{% endblock %}
